<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<event category="OTHER" id="19">
  <actions>
    <action id="603" library="1">
      <!--action name: Code-->
      <kind>CODE</kind>
      <allowRelative>false</allowRelative>
      <question>false</question>
      <canApplyTo>true</canApplyTo>
      <actionType>CODE</actionType>
      <functionName/>
      <relative>false</relative>
      <not>false</not>
      <appliesTo>.self</appliesTo>
      <arguments>
        <argument kind="STRING"> {
randomize();
if((lastDamageSource == WEAPON_ROCKETLAUNCHER or lastDamageSource == WEAPON_QROCKETLAUNCHER or lastDamageSource == WEAPON_MINEGUN or lastDamageSource == WEAPON_REFLECT) and (player.class != CLASS_QUOTE)) {
        repeat(3) {
         var gib;
         gib = instance_create(x,y,Gib);
         gib.hspeed=(random(17)-8);
         gib.vspeed=(random(17)-9);
         gib.rotspeed=(random(145)-72);
            }
        switch(player.team) {
     case TEAM_BLUE :
        repeat(2) {
         var gib;
         gib = instance_create(x,y,BlueClump);
         gib.hspeed=(random(17)-8);
         gib.vspeed=(random(17)-9);
         gib.rotspeed=(random(145)-72);
            }
        break;
     case TEAM_RED :
        repeat(2) {
         var gib;
         gib = instance_create(x,y,RedClump);
         gib.hspeed=(random(17)-8);
         gib.vspeed=(random(17)-9);
         gib.rotspeed=(random(145)-72);
            }
        break;
        }

         repeat(42) {
         var blood;
         blood = instance_create(x+random(23)-11,y+random(23)-11,BloodDrop);
         blood.hspeed=(random(21)-10);
         blood.vspeed=(random(21)-11);
            }

switch(player.class) {
   case CLASS_SCOUT :
         var gib;
         gib = instance_create(x,y,Headgib);
         gib.hspeed=(random(17)-8);
         gib.vspeed=(random(17)-9);
         gib.rotspeed=(random(105)-52 );
         gib.image_index = 6;
         repeat(2) {
         var gib;
         gib = instance_create(x,y,Feet);
         gib.hspeed=(random(5)-2);
         gib.vspeed=random(3);
         gib.rotspeed=(random(13)-6 );
         gib.image_index = 0;
         }
         repeat(2) {
         var gib;
         gib = instance_create(x,y,Hand);
         gib.hspeed=(random(17)-8);
         gib.vspeed=(random(17)-9);
         gib.rotspeed=(random(105)-52);
         gib.image_index = 1;
         }
         break;
   case CLASS_PYRO :
         var gib;
         gib = instance_create(x,y,Headgib);
         gib.hspeed=(random(17)-8);
         gib.vspeed=(random(17)-9);
         gib.rotspeed=(random(105)-52);
         gib.image_index = 7;
         var gib;
         gib = instance_create(x,y,Accesory);
         gib.hspeed=(random(17)-8);
         gib.vspeed=(random(17)-9);
         gib.rotspeed=(random(105)-52 );
         gib.image_index = 4;
         repeat(2) {
         var gib;
         gib = instance_create(x,y,Feet);
         gib.hspeed=(random(5)-2);
         gib.vspeed=random(3);
         gib.rotspeed=(random(13)-6);
         gib.image_index = 1;
         }
         repeat(2) {
         var gib;
         gib = instance_create(x,y,Hand);
         gib.hspeed=(random(17)-8);
         gib.vspeed=(random(17)-9);
         gib.rotspeed=(random(105)-52 );
         gib.image_index = 0;
         }
         break;
   case CLASS_SOLDIER :
         var gib;
         gib = instance_create(x,y,Headgib);
         gib.hspeed=(random(17)-8);
         gib.vspeed=(random(17)-9);
         gib.rotspeed=(random(105)-52 );
         gib.image_index = 1;
         repeat(2) {
         var gib;
         gib = instance_create(x,y,Feet);
         gib.hspeed=(random(5)-2);
         gib.vspeed=random(3);
         gib.rotspeed=(random(13)-6);
         gib.image_index = 2;
         }
         repeat(2) {
         var gib;
         gib = instance_create(x,y,Hand);
         gib.hspeed=(random(17)-8);
         gib.vspeed=(random(17)-9);
         gib.rotspeed=(random(105)-52 );
         gib.image_index = 1;
         }
      switch(player.team) {
        case TEAM_BLUE :
         var gib;
         gib = instance_create(x,y,Accesory);
         gib.hspeed=(random(17)-8);
         gib.vspeed=(random(17)-9);
         gib.rotspeed=(random(105)-52 );
         gib.image_index = 2;
         break;
        case TEAM_RED :
         var gib;
         gib = instance_create(x,y,Accesory);
         gib.hspeed=(random(17)-8);
         gib.vspeed=(random(17)-9);
         gib.rotspeed=(random(105)-52 );
         gib.image_index = 1;
         break;
   }
         break;
   case CLASS_HEAVY :
         var gib;
         gib = instance_create(x,y,Headgib);
         gib.hspeed=(random(17)-8);
         gib.vspeed=(random(17)-9);
         gib.rotspeed=(random(105)-52 );
         gib.image_index = 2;
         repeat(2) {
         var gib;
         gib = instance_create(x,y,Feet);
         gib.hspeed=(random(5)-2);
         gib.vspeed=random(3);
         gib.rotspeed=(random(13)-6);
         gib.image_index = 3;
         }
         repeat(2) {
         var gib;
         gib = instance_create(x,y,Hand);
         gib.hspeed=(random(17)-8);
         gib.vspeed=(random(17)-9);
         gib.rotspeed=(random(105)-52 );
         gib.image_index = 1;
         }
         break;
   case CLASS_DEMOMAN :
         var gib;
         gib = instance_create(x,y,Headgib);
         gib.hspeed=(random(17)-8);
         gib.vspeed=(random(17)-9);
         gib.rotspeed=(random(105)-52 );
         gib.image_index = 4;
         repeat(2) {
         var gib;
         gib = instance_create(x,y,Feet);
         gib.hspeed=(random(5)-2);
         gib.vspeed=random(3);
         gib.rotspeed=(random(13)-6);
         gib.image_index = 4;
         }
         repeat(2) {
         var gib;
         gib = instance_create(x,y,Hand);
         gib.hspeed=(random(17)-8);
         gib.vspeed=(random(17)-9);
         gib.rotspeed=(random(105)-52 );
         gib.image_index = 0;
         }
         break;
   case CLASS_MEDIC :
         var gib;
         gib = instance_create(x,y,Headgib);
         gib.hspeed=(random(17)-8);
         gib.vspeed=(random(17)-9);
         gib.rotspeed=(random(105)-52 );
         gib.image_index = 5;
         repeat(2) {
         var gib;
         gib = instance_create(x,y,Feet);
         gib.hspeed=(random(5)-2);
         gib.vspeed=random(3);
         gib.rotspeed=(random(13)-6);
         gib.image_index = 4;
         }
      switch(player.team) {
        case TEAM_BLUE :
         var gib;
         gib = instance_create(x,y,Hand);
         gib.hspeed=(random(17)-8);
         gib.vspeed=(random(17)-9);
         gib.rotspeed=(random(105)-52 );
         gib.image_index = 3;
         break;
        case TEAM_RED :
         var gib;
         gib = instance_create(x,y,Hand);
         gib.hspeed=(random(17)-8);
         gib.vspeed=(random(17)-9);
         gib.rotspeed=(random(105)-52 );
         gib.image_index = 2;
         break;     
                }
        break;

   case CLASS_ENGINEER :
         var gib;
         gib = instance_create(x,y,Headgib);
         gib.hspeed=(random(17)-8);
         gib.vspeed=(random(17)-9);
         gib.rotspeed=(random(105)-52 );
         gib.image_index = 8;
         var gib;
         gib = instance_create(x,y,Accesory);
         gib.hspeed=(random(17)-8);
         gib.vspeed=(random(17)-9);
         gib.rotspeed=(random(105)-52 );
         gib.image_index = 3;
         repeat(2) {
         var gib;
         gib = instance_create(x,y,Feet);
         gib.hspeed=(random(5)-2);
         gib.vspeed=random(3);
         gib.rotspeed=(random(13)-6);
         gib.image_index = 5;
         }
         repeat(2) {
         var gib;
         gib = instance_create(x,y,Hand);
         gib.hspeed=(random(17)-8);
         gib.vspeed=(random(17)-9);
         gib.rotspeed=(random(105)-52 );
         gib.image_index = 0;
         }
         break;
   case CLASS_SPY :
         var gib;
         gib = instance_create(x,y,Headgib);
         gib.hspeed=(random(17)-8);
         gib.vspeed=(random(17)-9);
         gib.rotspeed=(random(105)-52 );
         gib.image_index = 3;
         repeat(2) {
         var gib;
         gib = instance_create(x,y,Feet);
         gib.hspeed=(random(5)-2);
         gib.vspeed=random(3);
         gib.rotspeed=(random(13)-6);
         gib.image_index = 6;
         }
         repeat(2) {
         var gib;
         gib = instance_create(x,y,Hand);
         gib.hspeed=(random(17)-8);
         gib.vspeed=(random(17)-9);
         gib.rotspeed=(random(105)-52 );
         gib.image_index = 0;
         }
         break;
   case CLASS_SNIPER :
         var gib;
         gib = instance_create(x,y,Headgib);
         gib.hspeed=(random(17)-8);
         gib.vspeed=(random(17)-9);
         gib.rotspeed=(random(105)-52 );
         gib.image_index = 0;
         var gib;
         gib = instance_create(x,y,Accesory);
         gib.hspeed=(random(17)-8);
         gib.vspeed=(random(17)-9);
         gib.rotspeed=(random(105)-52 );
         gib.image_index = 0;
         repeat(2) {
         var gib;
         gib = instance_create(x,y,Feet);
         gib.hspeed=(random(5)-2);
         gib.vspeed=random(3);
         gib.rotspeed=(random(13)-6);
         gib.image_index = 6;
         }
         repeat(2) {
         var gib;
         gib = instance_create(x,y,Hand);
         gib.hspeed=(random(17)-8);
         gib.vspeed=(random(17)-9);
         gib.rotspeed=(random(105)-52 );
         gib.image_index = 0;
                 }
         break;
         }
         playsound(x,y,Gibbing)
   } else {
        var deadbody;
        playsound(x,y,choose(DeathSnd1, DeathSnd2));
        deadbody = instance_create(x,y-30,DeadGuy);
        deadbody.sprite_index = sprite_index;
        deadbody.hspeed=hspeed;
        deadbody.vspeed=vspeed;
        if(hspeed&gt;0) {
            deadbody.image_xscale = -1;
        }
    }
    instance_destroy();
}</argument>
      </arguments>
    </action>
  </actions>
</event>
